# API

Для простоты пока будет 2 игрока на игру, хотя их может быть любое количество. Предполагается, что роботы будут общаться
друг с другом посредством периодического опроса сервера, исходники которого, собственно, здесь и лежат.  Имеются
следующие типы запросов.

- Запрос на создание игры.
- Запрос списка игр, ожидающих второго игрока.
- Запрос на присоединение к игре.
- Опрос состояния по текущей игре.
- Запрос с ходом.

Идентификатор игрока передаётся в HTTP-заголовке FD-PLAYER-ID.

## Запрос на создание игры

POST */create*

В случае успеха возвращается JSON с хешем игры. Данная игра становится доступной в списке ожидающих игр.

```json
{
  "status": "ok",
  "hash": "ifmo6z63"
}
```

## Запрос списка игр, ожидающих второго игрока

GET */pending*

В ответ возвращается массив с хешами ожидающих игр и некий контент-хеш, который не меняется, если не изменился список
ожидающих игр (т.е. его можно использовать для того, чтобы предотвратить повторную перерисовку списка, например).

```json
{
  "status": "ok",
  "games": [
    {"hash": "ifmo6z63"},
    {"hash": "ifmzu9i6"},
    {"hash": "ifn099jx"}
  ],
  "content_hash": "7bfaf4ec"
}
```

## Запрос на присоединение к ожидающей игре

POST */join/{hash}*

В случае успеха возвращается:

```json
{
  "status": "ok"
}
```

В случае ошибки:

```json
{
  "status": "error",
  "message": "error message"
}
```

## Опрос состояния по текущей игре

GET */state/{hash}*

## Запрос с ходом

POST */state/{hash}*
